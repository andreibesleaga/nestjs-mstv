# ===========================================
# SIMPLIFIED ENVIRONMENT CONFIGURATION
# ===========================================
# Reduced from 100+ variables to ~30 essential ones
# Focus: Core microservice template functionality

# ===========================================
# üöÄ APPLICATION BASICS
# ===========================================
NODE_ENV=development
PORT=3000
SERVICE_NAME=nestjs-microservice
APP_URL=http://localhost:3000

# ===========================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ===========================================
# Choose ONE database type: postgresql | mysql | mongodb | memory
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://dev:dev@localhost:5432/dev

# Alternative database URLs (only needed if switching types)
# MYSQL_URL=mysql://dev:dev@localhost:3306/dev
# MONGODB_URL=mongodb://dev:dev@localhost:27017/nestjs-app

# ===========================================
# üîê SECURITY & AUTHENTICATION
# ===========================================
JWT_SECRET=changeme-in-production
ACCESS_TOKEN_EXP=15m
REFRESH_TOKEN_EXP=7d

# ===========================================
# üéõÔ∏è SIMPLIFIED FEATURE FLAGS (20 total)
# ===========================================

# Essential Protocols (4 flags)
ENABLE_WEBSOCKET=true
ENABLE_GRAPHQL=true
ENABLE_GRPC=false
ENABLE_HTTPS=true

# Core Infrastructure (6 flags)
ENABLE_CACHING=true
ENABLE_MESSAGING=true
ENABLE_OBSERVABILITY=false
ENABLE_HEALTH_CHECKS=true
ENABLE_CIRCUIT_BREAKER=false
ENABLE_AUTH=true

# Storage & Data (3 flags)
STORAGE_PROVIDER=memory  # memory | s3 | azure | gcs | disabled
ENABLE_FILE_UPLOADS=false

# Development & Monitoring (6 flags)
ENABLE_SWAGGER_DOCS=true
ENABLE_CORS=true
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=false
ENABLE_DISTRIBUTED_TRACING=false
ENABLE_RETRY_MECHANISM=true

# ===========================================
# üìä CACHE CONFIGURATION (if enabled)
# ===========================================
REDIS_URL=redis://localhost:6379

# ===========================================
# üì® MESSAGING CONFIGURATION (if enabled)
# ===========================================
KAFKA_BROKERS=localhost:9092

# ===========================================
# üìß EMAIL CONFIGURATION (optional)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=your-email@gmail.com

# ===========================================
# ‚òÅÔ∏è CLOUD STORAGE (if STORAGE_PROVIDER != memory)
# ===========================================

# AWS S3 (if STORAGE_PROVIDER=s3)
S3_BUCKET=your-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key

# Azure Blob Storage (if STORAGE_PROVIDER=azure)
AZURE_STORAGE_CONNECTION_STRING=your-connection-string
AZURE_BLOB_CONTAINER=your-container-name

# Google Cloud Storage (if STORAGE_PROVIDER=gcs)
GCP_PROJECT_ID=your-project-id
GCS_BUCKET=your-bucket-name
GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# ===========================================
# üì° OBSERVABILITY (if ENABLE_OBSERVABILITY=true)
# ===========================================
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ===========================================
# üîß ADVANCED CONFIGURATION
# ===========================================

# Security
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# Circuit Breaker (if enabled)
CB_THRESHOLD=5
CB_TIMEOUT=10000
CB_RESET_TIMEOUT=60000

# Health Checks (if enabled)
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Retry Configuration (if enabled)
RETRY_ATTEMPTS=3
RETRY_DELAY=1000
RETRY_MAX_DELAY=10000

# ===========================================
# üìù NOTES
# ===========================================
# 
# MIGRATION FROM OLD CONFIG:
# - Reduced from 100+ to 20 feature flags
# - Removed unused protocols (MQTT, NATS, RabbitMQ)
# - Removed unused observability systems (Consul, SigNoz, Datadog)
# - Simplified storage to 4 main providers
# - Consolidated database options
# 
# TO RESTORE OLD COMPLEXITY:
# - See .env.example.legacy for full feature set
# - Most removed features can be re-enabled as needed
#
# RECOMMENDED DEVELOPMENT SETUP:
# - Keep most flags as shown above
# - Enable observability for production
# - Choose one storage provider based on needs
#

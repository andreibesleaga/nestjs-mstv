stateDiagram-v2
  [*] --> Closed
  Closed --> Open: failures exceed threshold
  Closed --> Closed: success
  Open --> HalfOpen: timeout elapsed
  HalfOpen --> Closed: trial success
  HalfOpen --> Open: trial failure
